define(["jquery","core/notification","core/templates","core/ajax"],function(a,b,c,d){var e=function(b,c,d){this.triggerSelector=b,this.inputSelector=c,this.styleSelector=d,a(b).click(this.showConfig.bind(this))};return e.prototype.styleSelector=null,e.prototype.inputSelector=null,e.prototype.triggerSelector=null,e.prototype.showConfig=function(){var c={methodname:"mod_communication_generate_preview",args:{text:a(this.inputSelector).val(),style:a(this.styleSelector).is(":checked")}},e=d.call([c])[0];e.fail(b.exception);var f=window.open("","template_preview");f.document.write("Generating the preview... This takes seconds."),f.focus(),e.then(function(a){f.document.documentElement.innerHTML=a})},{init:function(a,b,c){return new e(a,b,c)}}});